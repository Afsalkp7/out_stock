<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="/css/style2.css">
  <link rel="stylesheet" href="/css/cartStyle.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
  <div id="content">
    <nav class="navbar navbar-expand-lg navbar-light shadow-sm p-3 w-100 bg-light" style="position: fixed; z-index:5">
      <div class="container-fluid">
        <a href="#" class="navbar-brand"><img class="img-fluid" src="/img/logo.png" width="200px" alt="logo"></a>
        <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <div class="navbar-nav ms-5">
            <a href="/" class="nav-item nav-link  ms-5"
              style="font-family: Arial, Helvetica, sans-serif;font-weight: bolder;">Home</a>
            <a href="/shop" class="nav-item nav-link  ms-5"
              style="font-family: Arial, Helvetica, sans-serif;font-weight: bolder;">Shop</a>
            <a href="#" class="nav-item nav-link  ms-5"
              style="font-family: Arial, Helvetica, sans-serif;font-weight: bolder;">About</a>
            <a href="#" class="nav-item nav-link  ms-5"
              style="font-family: Arial, Helvetica, sans-serif;font-weight: bolder;">Contact</a>
          </div>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <div class="navbar-nav ms-auto me-3">
              <a id="userIcons" href="/wish"><img src="/img/wishlist.png" alt="wishlist" width="30px"></a>
            </div>
            <div class="navbar-nav me-3">
              <a id="userIcons" href="/cart"><img src="/img/cart.png" alt="cart" width="30px"></a>
            </div>
            <div class="navbar-nav me-3">
              <a id="userIcons" href="/user"><img src="/img/person1.png" alt="admin" width="30px"></a>
            </div>
          </div>
        </div>
      </div>
    </nav>
  </div>





  <section class="bg-light">
    <div class="container ">
      <div class="row" style="padding-top: 100px;">
        <!-- cart -->
        <div class="col-lg-9">
          <div class="card border shadow-0">
            <div class="m-4">
              <h4 class="card-title mb-4">Your shopping cart</h4>
              {{#each cartProducts}}
              {{#each cartContent}}


              <div class="row mb-4">
                <div class="col-lg-5">
                  <div class="me-lg-5">
                    <div class="d-flex">
                      <img src="{{this.images.[0]}}" class="border rounded me-3" style="width: 50px;" />
                      <div class="">
                        <span style="font-weight: bold; font-size: 16px;">{{this.productName}}</span>
                        <p class="text-muted">{{this.brand}}</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="input-group mb-5" style="width: 130px;">
                  <button class="btn btn-white" type="button" id="decrement" data-mdb-ripple-color="dark">
                    <i style="font-size: 12px;" class="fas fa-minus"></i>
                  </button>
                  <input type="text" id="quantity" class="form-control text-center" style="border: none;"
                    aria-label="Example text with button addon" aria-describedby="button-addon1"
                    value="{{../quantity}}" />
                  <button class="btn btn-white" type="button" id="increment" data-mdb-ripple-color="dark">
                    <i style="font-size: 12px;" class="fas fa-plus"></i>
                  </button>
                </div>
                <div class="col-lg-5">
                  <div class="me-lg-5">
                    <div class="d-flex">
                      <p class="text-center text-success mt-2">₹{{this.price}}/-</p>
                      <p class="text-center text-danger ms-3 mt-2">₹{{this.net_price}}/-</p>  
                      
                      <p class="text-center text-danger ms-3 mt-2">₹/-</p>
                      <div class="">
                        <a class="deleteCartItem btn btn-light ms-5" data-user-id='{{this._id}}'><img src="/img/delete.png" width="15px" alt=""></a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {{/each}}
              {{/each}}
              <div class="border-top pt-4 mx-4 mb-4">
                <p><i class="fas fa-truck text-muted fa-lg"></i> Free Delivery within 1-2 weeks</p>
                <p class="text-muted">
                  Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore
                  et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
                  aliquip
                </p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-3">
          <div class="card mb-3 border shadow-0">
            <div class="card-body">
              <form>
                <div class="form-group">
                  <label class="form-label">Have coupon?</label>
                  <div class="input-group">
                    <input type="text" class="form-control border" name="" placeholder="Coupon code" />
                    <button class="btn btn-light border">Apply</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div class="card shadow-0 border">
            <div class="card-body">
              <div class="d-flex justify-content-between">
                <p class="mb-2">Total price:</p>
                <p class="mb-2"></p>
              </div>
              <div class="d-flex justify-content-between">
                <p class="mb-2">Discount:</p>
                <p class="mb-2 text-success">-$60.00</p>
              </div>
              <div class="d-flex justify-content-between">
                <p class="mb-2"></p>
                <p class="mb-2"></p>
              </div>
              <hr />
              <div class="d-flex justify-content-between">
                <p class="mb-2">Total price:</p>
                <p class="mb-2 fw-bold">$283.00</p>
              </div>

              <div class="mt-3">
                <a href="#" class="btn btn-dark w-100 shadow-0 mb-2"> Make Purchase </a>
                <a href="#" class="btn btn-light w-100 border mt-2"> Back to shop </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </section>
    <div class="modal fade" id="productShow" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog  modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="userTitle"></h5>
          <a href="/cart" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></a>
        </div>
        <div class="modal-body" id="productDetails">
          ...
        </div>
        <div class="modal-footer">
          <a href="/cart" class="btn btn-dark text-light" data-bs-dismiss="modal">Close</a>
        </div>
      </div>
    </div>
  </div>
  <script>
    const quantityInput = document.getElementById('quantity');
    const incrementButton = document.getElementById('increment');
    const decrementButton = document.getElementById('decrement');

    incrementButton.addEventListener('click', () => {
      let quantity = parseInt(quantityInput.value) || 0;
      quantity = Math.max(1, quantity + 1);
      quantityInput.value = quantity;
    });

    decrementButton.addEventListener('click', () => {
      let quantity = parseInt(quantityInput.value) || 0;
      quantity = Math.max(1, quantity - 1);
      quantityInput.value = quantity;
    });

  </script>
  <script src="/js/cartMgt.js"></script>
</body>

</html>